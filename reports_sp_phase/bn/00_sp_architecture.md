# একক-প্রসেসর (এসপি) ধাপের আর্কিটেকচার ডকিউমেন্ট

**সংস্করণ:** ১.০
**তারিখ:** ১৫ মে, ২০২৫

## ১. ভূমিকা

এই ডকিউমেন্টটি CIFO এক্সটেন্ডেড প্রকল্পের একক-প্রসেসর (এসপি) ধাপের জন্য বাস্তবায়িত সফ্টওয়্যার আর্কিটেকচার বর্ণনা করে। এই ধাপের উদ্দেশ্য ছিল ক্রীড়া দলের গঠন অপ্টিমাইজেশান সমস্যার জন্য মেটাহিউরিস্টিক অ্যালগরিদমগুলির (হিল ক্লাইম্বিং, সিমুলেটেড অ্যানিলিং, এবং জেনেটিক অ্যালগরিদম) বাস্তবায়ন এবং পরীক্ষার জন্য একটি শক্ত ভিত্তি স্থাপন করা।

## ২. আর্কিটেকচারের সংক্ষিপ্তসার

এসপি ধাপের আর্কিটেকচারটি মডুলারভাবে ডিজাইন করা হয়েছিল, যাতে উন্নয়ন, রক্ষণাবেক্ষণ এবং পরীক্ষাযোগ্যতা সহজতর করার জন্য বিভিন্ন সিস্টেমের দায়িত্বগুলিকে স্বতন্ত্র উপাদানগুলিতে পৃথক করা যায়। মডিউলগুলির মধ্যে মিথস্ক্রিয়া একটি প্রধান স্ক্রিপ্ট দ্বারা সঞ্চালিত হয়।

আর্কিটেকচারের প্রধান উপাদানগুলি হল:

*   **সমাধান মডিউল (`solution.py`):** একটি প্রার্থী সমাধানের প্রতিনিধিত্ব, এর গুণমান (ফিটনেস) গণনা এবং সমস্যার সীমাবদ্ধতা যাচাই করার জন্য দায়ী।
*   **বিবর্তন মডিউল (`evolution.py`):** বাস্তবায়িত মেটাহিউরিস্টিক অ্যালগরিদমগুলির (হিল ক্লাইম্বিং, সিমুলেটেড অ্যানিলিং, জেনেটিক অ্যালগরিদম) মূল যুক্তি ধারণ করে।
*   **অপারেটর মডিউল (`operators.py`):** জেনেটিক অ্যালগরিদম দ্বারা ব্যবহৃত নির্দিষ্ট জেনেটিক অপারেটর (নির্বাচন, ক্রসওভার, মিউটেশন) সরবরাহ করে।
*   **প্রধান স্ক্রিপ্ট (`main_script_sp.py`):** অ্যাপ্লিকেশন এন্ট্রি পয়েন্ট, ইনপুট ডেটা লোড করা, অ্যালগরিদম প্যারামিটার কনফিগার করা, অ্যালগরিদম ইনস্ট্যান্টিয়েট এবং সম্পাদন করা এবং ফলাফল উপস্থাপন/সংরক্ষণ করার জন্য দায়ী।
*   **ইনপুট ডেটা:** খেলোয়াড়ের ডেটা (দক্ষতা, অবস্থান, বেতন, ইত্যাদি) ধারণকারী CSV ফাইল।

## ৩. উপাদানগুলির বিবরণ

### ৩.১. সমাধান মডিউল (`solution.py`)

এই মডিউলটি দলের গঠন সমস্যার জন্য একটি পৃথক সমাধানের সাথে সম্পর্কিত সমস্ত যুক্তিকে এনক্যাপসুলেট করে।

*   **`LeagueSolution` ক্লাস:**
    *   **অভ্যন্তরীণ উপস্থাপনা:** একটি সমাধান খেলোয়াড়দের দলে নিয়োগ হিসাবে উপস্থাপিত হয়। প্রাথমিকভাবে, একটি তালিকা যেখানে সূচক খেলোয়াড়ের আইডি এবং মান দলের আইডি উপস্থাপন করে। পরবর্তী অপ্টিমাইজেশানগুলিতে দক্ষতার জন্য NumPy অ্যারে ব্যবহার করা হতে পারে।
    *   **প্রধান কার্যকারিতা:**
        *   `__init__(self, player_data, num_teams, team_size, budget_per_team, initial_assignment=None)`: কনস্ট্রাক্টর যা একটি সমাধান শুরু করে, সম্ভাব্যভাবে একটি এলোমেলো বৈধ অ্যাসাইনমেন্ট তৈরি করে বা একটি সরবরাহকৃত ব্যবহার করে।
        *   `calculate_fitness(self)`: উদ্দেশ্য ফাংশন গণনা করে, সাধারণত দলগুলির মধ্যে গড় দক্ষতার বৈচিত্র্য হ্রাস করে।
        *   `is_valid(self)`: বর্তমান সমাধানটি সমস্ত সমস্যার সীমাবদ্ধতা (দলের বাজেট, প্রতি দলে খেলোয়াড়ের সংখ্যা, অবস্থানগত সীমাবদ্ধতা) পূরণ করে কিনা তা পরীক্ষা করে।
        *   `get_random_neighbor(self)`: বর্তমান সমাধানে একটি ছোট পরিবর্তনের মাধ্যমে একটি প্রতিবেশী সমাধান তৈরি করে (যেমন, একজন খেলোয়াড়কে অন্য দলে সরানো)।
        *   সমাধান ম্যানিপুলেশন এবং মূল্যায়নের জন্য অন্যান্য সহায়ক পদ্ধতি।

### ৩.২. বিবর্তন মডিউল (`evolution.py`)

এই মডিউলটিতে অপ্টিমাইজেশান অ্যালগরিদমগুলির বাস্তবায়ন রয়েছে।

*   **`hill_climbing(initial_solution, max_iterations, player_data, num_teams, team_size, budget_per_team)` ফাংশন:**
    *   হিল ক্লাইম্বিং অ্যালগরিদম বাস্তবায়ন করে। একটি প্রাথমিক সমাধান দিয়ে শুরু হয় এবং পুনরাবৃত্তিমূলকভাবে আরও ভাল প্রতিবেশী খুঁজে বের করার চেষ্টা করে যতক্ষণ না একটি স্থানীয় সর্বোচ্চে পৌঁছানো যায় বা সর্বাধিক পুনরাবৃত্তির সংখ্যা অর্জন করা যায়।
*   **`simulated_annealing(initial_solution, max_iterations, initial_temperature, cooling_rate, player_data, num_teams, team_size, budget_per_team)` ফাংশন:**
    *   সিমুলেটেড অ্যানিলিং অ্যালগরিদম বাস্তবায়ন করে। সময়ের সাথে সাথে (তাপমাত্রা) হ্রাস পায় এমন সম্ভাবনার সাথে আরও খারাপ সমাধানের দিকে যাওয়ার অনুমতি দেয়, যা স্থানীয় সর্বোত্তমগুলি থেকে পালাতে সহায়তা করে।
*   **`genetic_algorithm(player_data, num_teams, team_size, budget_per_team, population_size, num_generations, tournament_size, crossover_rate, mutation_rate, elite_size, selection_operator, crossover_operator, mutation_operator)` ফাংশন:**
    *   জেনেটিক অ্যালগরিদম বাস্তবায়ন করে। সমাধানগুলির একটি জনসংখ্যা বজায় রাখে যা বিভিন্ন প্রজন্মের ধরে নির্বাচন, ক্রসওভার এবং মিউটেশন অপারেটরগুলির মাধ্যমে বিকশিত হয়।

### ৩.৩. অপারেটর মডিউল (`operators.py`)

এই মডিউলটি জেনেটিক অপারেটরগুলির জন্য ফাংশন সরবরাহ করে।

*   **নির্বাচন অপারেটর:**
    *   `selection_tournament(population, fitnesses, tournament_size)`
    *   `selection_roulette_wheel(population, fitnesses)`
    *   `selection_ranking(population, fitnesses)`
    *   `selection_boltzmann(population, fitnesses, temperature)`
*   **ক্রসওভার অপারেটর:**
    *   `crossover_one_point(parent1, parent2, player_data, num_teams, team_size, budget_per_team)`
    *   `crossover_uniform(parent1, parent2, player_data, num_teams, team_size, budget_per_team)`
    *   `_prefer_valid` সংস্করণ যা সরাসরি বৈধ সন্তান তৈরি করার চেষ্টা করে।
*   **মিউটেশন অপারেটর:**
    *   `mutation_random_player_team_change(solution, player_data, num_teams, team_size, budget_per_team)`
    *   `mutation_swap_players_between_teams(solution, player_data, num_teams, team_size, budget_per_team)`

### ৩.৪. প্রধান স্ক্রিপ্ট (`main_script_sp.py`)

এই স্ক্রিপ্টটি এসপি ধাপের অর্কেস্ট্রেটর।

*   **ডেটা লোডিং:** CSV ফাইল থেকে খেলোয়াড়ের ডেটা পড়ে (যেমন, `players.csv`)।
*   **কনফিগারেশন:** প্রতিটি অ্যালগরিদমের জন্য প্যারামিটার নির্ধারণ করে (যেমন, পুনরাবৃত্তির সংখ্যা, জনসংখ্যার আকার, মিউটেশন/ক্রসওভার হার, ইত্যাদি)।
*   **অ্যালগরিদম সম্পাদন:**
    *   প্রাথমিক সমাধান তৈরি করতে `LeagueSolution` ইনস্ট্যান্টিয়েট করে।
    *   কনফিগার করা প্যারামিটার এবং অপারেটর পাস করে `evolution.py` মডিউল থেকে অ্যালগরিদম ফাংশন কল করে।
*   **ফলাফল সংগ্রহ এবং উপস্থাপনা:**
    *   প্রাপ্ত সেরা সমাধান, এর ফিটনেস এবং সম্পাদনের সময় সংরক্ষণ করে।
    *   কনসোলে ফলাফল প্রিন্ট করে বা লগ/সারাংশ ফাইলগুলিতে সংরক্ষণ করে।
*   **প্রোফাইলিং (ঐচ্ছিক):** কর্মক্ষমতা বাধা সনাক্ত করতে প্রোফাইলিংয়ের জন্য কোড অন্তর্ভুক্ত থাকতে পারে (যেমন, `cProfile`)।

## ৪. ডেটা প্রবাহ

১. `main_script_sp.py` খেলোয়াড়ের ডেটা লোড করে।
২. প্রতিটি অ্যালগরিদম সম্পাদনের জন্য:
    ক. `LeagueSolution` ব্যবহার করে একটি প্রাথমিক সমাধান তৈরি করা হয় (অথবা GA-গুলির জন্য সমাধানগুলির একটি জনসংখ্যা)।
    খ. `main_script_sp.py` `evolution.py`-তে সংশ্লিষ্ট অ্যালগরিদম ফাংশনকে কল করে।
    গ. `evolution.py`-তে অ্যালগরিদমগুলি ফিটনেস মূল্যায়ন, সমাধান যাচাই এবং প্রতিবেশী/সন্তান তৈরি করতে `LeagueSolution` ব্যবহার করে।
    ঘ. GA নির্বাচন, ক্রসওভার এবং মিউটেশনের জন্য `operators.py` থেকে অপারেটর ব্যবহার করে।
    ঙ. সেরা সমাধান এবং কর্মক্ষমতা মেট্রিকগুলি `main_script_sp.py`-তে ফেরত দেওয়া হয়।
৩. `main_script_sp.py` ফলাফল উপস্থাপন বা সংরক্ষণ করে।

## ৫. ডিজাইন সিদ্ধান্ত এবং যৌক্তিকতা

*   **মডুলারিটি:** `solution.py`, `evolution.py`, এবং `operators.py`-তে পৃথকীকরণ প্রতিটি উপাদানকে আরও স্বাধীনভাবে বিকাশ এবং পরীক্ষা করার অনুমতি দেয়। এটি নতুন অ্যালগরিদম বা অপারেটর যুক্ত করাও সহজ করে তোলে।
*   **সমাধানের বিমূর্ততা:** `LeagueSolution` ক্লাস সমাধানের উপস্থাপনা এবং এর ক্রিয়াকলাপগুলির বিবরণকে বিমূর্ত করে, অ্যালগরিদম কোডকে পরিষ্কার করে তোলে।
*   **কনফিগারযোগ্যতা:** `main_script_sp.py` অ্যালগরিদম কনফিগারেশনকে কেন্দ্রীভূত করে, বিভিন্ন প্যারামিটারের সাথে সহজ পরীক্ষার অনুমতি দেয়।
*   **প্রাথমিক স্বচ্ছতার উপর ফোকাস:** আর্কিটেকচারের প্রথম সংস্করণটি অকাল অপ্টিমাইজেশানের চেয়ে স্বচ্ছতা এবং কার্যকরী সঠিকতাকে অগ্রাধিকার দিয়েছে। অপ্টিমাইজেশানগুলি (যেমন ভেক্টরাইজেশন এবং `deepcopy` হ্রাস) পরে, প্রোফাইলিংয়ের পরে প্রয়োগ করা হয়েছিল।

## ৬. এসপি আর্কিটেকচারের সীমাবদ্ধতা

*   **অনুক্রমিক প্রক্রিয়াকরণ:** সংজ্ঞা অনুসারে, এই আর্কিটেকচারটি অ্যালগরিদম এবং তাদের পুনরাবৃত্তিগুলি ক্রমানুসারে সম্পাদন করে, যা ব্যাপক বিশ্লেষণের জন্য সময়সাপেক্ষ হতে পারে।
*   **পরিমাপযোগ্যতা:** একাধিক সম্পাদন পরিচালনা এবং পরিসংখ্যানগত বিশ্লেষণের জন্য ফলাফল একত্রিত করা ম্যানুয়ালি বা সাধারণ স্ক্রিপ্টগুলির সাথে করা হয়, যা প্রচুর সংখ্যক পরীক্ষার জন্য ভালভাবে পরিমাপ করে না।

এই আর্কিটেকচারটি পরবর্তী প্রকল্পের পর্যায়গুলির ভিত্তি হিসাবে কাজ করেছে, যেখানে এই সীমাবদ্ধতাগুলি মোকাবেলা করার জন্য মাল্টিপ্রসেসিং চালু করা হয়েছিল।

